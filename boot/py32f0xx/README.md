###  Интересные факты из прошивки 

Boot прошивки для PY32F002A, PY32F003, PY32F030  совершенно одинаковые.<br>
Различие начинается в конфигурационной области адреса 0x1FFF0D80-0x1FFF0FFF

По порядку будем разбирать что удалось найти по анализу программы Bootloader<br>
(Адрес, Пример, Описание)

#### 0x1FFF0D80-0x1FFF0D8F
```
0x1FFF0D80: 32 33 59 50 33 30 30 46 44 34 32 4С 30 30 30 36 '23YP300FD42L0006'
```
Записан тип микроконтроллера по 4 байт, если развернуть  PY32F003L24D6000

#### 0x1FFF0D90-0x1FFF0D9F
```
// для  PY32F003L24D6
0x1FFF0D90: 07 64 61 00 00 00 00 00 00 00 04 00 00 00 00 00  
// для  PY32F002AW15U6
0x1FFF0D90: FF 71 03 00 00 00 00 00 00 00 04 00 00 00 00 00  
```
8 halfword (16 bit) определяющих наличие выведенных портов!<br>
Порты A,B,C...H<br> 
```
для  PY32F003L24D6  получаем  
  0x6407  0b0110010000000111 - PA0,1,2,10,13,14
  0x0061  0b0000000001100001 - PB0,5,6
  0x0004  0b0000000000000100 - PF2
для  PY32F002AW15U6  получаем  
  0x71FF  0b0111000111111111 - PA0-8,12-14
  0x0003  0b0000000000000011 - PB0,1
  0x0004  0b0000000000000100 - PF2
```
#### 0x1FFF0DA0-0x1FFF0DFF
???

#### 0x1FFF0E00-0x1FFF0E7F
UID

#### 0x1FFF0E80-0x1FFF0EFF
Option bytes

#### 0x1FFF0F00-0x1FFF0F7F

Калибровочные константы для HSI<br>
Калибровочные константы для сенсора температуры<br>
Калибровочные константы для записи в Flash ( для разных HSI )<br>
Есть описание в DS и RM

#### 0x1FFF0F80-0x1FFF0FFB
???

#### 0x1FFF0FFC-0x1FFF0FFF
```
// для  PY32F003L24  0x1FFF0FFC: 01 00 FE FF
// для  PY32F002AW15 0x1FFF0FFC: 13 00 EC FF
// для  PY32F003W16  0x1FFF0FFC: 13 00 EC FF
// для  PY32F030K28  0x1FFF0FFC: 37 00 C8 FF
  (используется 1 байт, 2-й равен 0, а 3 и 4 инверсия 1 и 2)
```
Закодирован размер RAM и Flash<br>
01 - 2K RAM 16K Flash<br>
13 - 4K RAM 32K Flash<br>
37 - 8K RAM 64K Flash

Первая цифра 0..3 - RAM     2,4,6,8K<br>
Вторая цифра 0..7 - Flash   8,16,24,32,40,48,56,64K

Как видим закодировать 20K/3K - невозможно для F002A и действительно используется 32K/4K !!



